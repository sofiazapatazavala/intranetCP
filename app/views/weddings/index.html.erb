<%#
  Filterrific adds the `form_for_filterrific` view helper:
  * adds dom id 'filterrific_filter'
  * applies javascript behaviors:
      * AJAX form submission on change
      * AJAX spinner while AJAX request is being processed
  * sets form_for options like :url, :method and input name prefix
%>

<div class="row my-1">
  <div class="col-xs-8">
    <h3>Matrimonios</h3>
  </div>
  <div class="col-xs-4">
    <%= link_to '➕ Nuevo', new_wedding_path, class: "btn btn-block btn-primary", role: "button"  %>
  </div>
</div>
<div class="row">
  <div class="col-xs-12">
    <div class="card">
      <div class="card-block">
        <p class="lead">Pronto aquí: búsqueda</p>
      </div>
    </div>
    <div class="card">
      <div class="card-block">
        <%= form_for_filterrific @filterrific do |f| %>
        <div class="form-group">
          <%# give the search field the 'filterrific-periodically-observed' class for live updates %>
          <%= f.text_field(
            :search_query,
            class: 'filterrific-periodically-observed form-control form-control-lg',
            placeholder: '[En construcción] Búsqueda instantánea según nombre de la novia o el novio',
            disabled: true,
          ) %>
        </div>

        <div>
          <%= link_to(
            'Reset filters',
            reset_filterrific_url,
            class: "btn btn-sm btn-block btn-secondary",
            role: "button"
          ) %>
        </div>
        <%= render_filterrific_spinner %>
      </div>
    </div>
  </div>
</div>
<% end %>

<%= render(
  partial: 'weddings/list',
  locals: { weddings: @weddings }
) %>
